# ============================================================================
# Curatore v2 - Service Configuration (generated by bootstrap)
# ============================================================================
# This file was generated from scripts/templates/config.yml.template.
# To regenerate: ./scripts/generate-env.sh
#
# Manual edits are preserved until the next generate-env.sh run.
# ============================================================================

version: "2.0"

# ============================================================================
# Authentication
# ============================================================================
enable_auth: true

# ============================================================================
# LLM Configuration
# ============================================================================
llm:
  provider: openai
  api_key: __OPENAI_API_KEY__
  base_url: __OPENAI_BASE_URL__
  timeout: 60
  max_retries: 3
  verify_ssl: true

  default_model: __OPENAI_MODEL__

  task_types:
    embedding:
      model: __LLM_EMBEDDING_MODEL__
      dimensions: __LLM_EMBEDDING_DIMENSIONS__

    quick:
      model: __LLM_QUICK_MODEL__
      temperature: __LLM_QUICK_TEMPERATURE__

    standard:
      model: __LLM_STANDARD_MODEL__
      temperature: __LLM_STANDARD_TEMPERATURE__

    quality:
      model: __LLM_QUALITY_MODEL__
      temperature: __LLM_QUALITY_TEMPERATURE__

    bulk:
      model: __LLM_BULK_MODEL__
      temperature: __LLM_BULK_TEMPERATURE__

    reasoning:
      model: __LLM_REASONING_MODEL__
      temperature: __LLM_REASONING_TEMPERATURE__

# ============================================================================
# Extraction Engine Configuration
# ============================================================================
extraction:
  enabled: true
  service_url: http://document-service:8010
  api_key: __DOCUMENT_SERVICE_API_KEY__
  timeout: 240
  verify_ssl: true

# ============================================================================
# Playwright Rendering Service Configuration
# ============================================================================
playwright:
  enabled: true
  service_url: http://playwright:8011
  api_key: __PLAYWRIGHT_API_KEY__
  timeout: 60
  max_retries: 3

# ============================================================================
# MCP Gateway Service Configuration
# ============================================================================
mcp:
  enabled: true
  service_url: http://mcp:8020
  timeout: 30

# ============================================================================
# Microsoft Graph API Configuration
# ============================================================================
microsoft_graph:
  enabled: __MS_GRAPH_ENABLED__
  tenant_id: __MS_TENANT_ID__
  client_id: __MS_CLIENT_ID__
  client_secret: __MS_CLIENT_SECRET__
  graph_scope: https://graph.microsoft.com/.default
  graph_base_url: https://graph.microsoft.com/v1.0
  enable_email: __MS_ENABLE_EMAIL__
  email_sender_user_id: __MS_EMAIL_SENDER__

# ============================================================================
# SAM.gov Opportunities API Configuration
# ============================================================================
sam:
  enabled: __SAM_ENABLED__
  api_key: __SAM_API_KEY__
  timeout: 60
  max_retries: 3
  rate_limit_delay: 0.5
  max_pages_per_pull: 10
  page_size: 100

# ============================================================================
# Queue Configuration
# ============================================================================
queue:
  broker_url: redis://redis:6379/0
  result_backend: redis://redis:6379/1
  default_queue: processing
  worker_concurrency: 4
  task_timeout: 3600

# ============================================================================
# Queue Type Settings
# ============================================================================
queues:
  extraction:
    max_concurrent: 7
    timeout_seconds: 300

# ============================================================================
# MinIO / S3 Object Storage Configuration
# ============================================================================
minio:
  enabled: true
  endpoint: minio:9000
  access_key: __MINIO_ACCESS_KEY__
  secret_key: __MINIO_SECRET_KEY__
  secure: false

# ============================================================================
# Search Configuration (PostgreSQL + pgvector)
# ============================================================================
search:
  enabled: true
  default_mode: hybrid
  semantic_weight: 0.5
  batch_size: 50
  max_content_length: 100000
  chunk_size: 1500
  chunk_overlap: 200
